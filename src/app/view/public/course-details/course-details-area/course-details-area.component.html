<section class="page__title-area pt-50 pb-90">
    <div class="page__title-shape">
        <img
                class="page-title-shape-5 d-none d-sm-block"
                src="assets/img/page-title/page-title-shape-1.webp"
                alt=""
        />
        <img
                class="page-title-shape-6"
                src="assets/img/page-title/page-title-shape-6.webp"
                alt=""
        />
        <img
                class="page-title-shape-7"
                src="assets/img/page-title/page-title-shape-4.webp"
                alt=""
        />
    </div>
    <div class="container">
        <div class="row">
            <div class="col-xxl-4 d-block d-sm-none col-xl-4 col-lg-4">
                <div class="course__sidebar pl-70 p-relative">
                    <div class="course__shape">
                        <img
                                class="course-dot"
                                src="assets/img/course/course-dot.png"
                                alt=""
                        />
                    </div>
                    <div class="course__sidebar-widget-2 white-bg mb-20">
                        <div class="course__video">
                            <div class=" w-img mb-25">
                                <img *ngIf="selectedCourse?.price?.lib?.toUpperCase()?.includes('PLATINUM')"
                                     src="/assets/images/Platinum.webp" alt=""/>
                                <img *ngIf="selectedCourse?.price?.lib?.toUpperCase()?.includes('GOLD')"
                                     src="/assets/images/Gold.webp" alt=""/>
                                <img *ngIf="selectedCourse?.price?.lib?.toUpperCase()?.includes('SILVER')"
                                     src="/assets/images/Silver.webp" alt=""/>

                            </div>
                            <div
                                    class="course__video-meta mb-25 d-flex align-items-center justify-content-between"
                            >
                                <div class="course__video-price">
                                    <h5>{{selectedCourse?.price?.price}}.<span>00 MAD</span></h5>
                                    <h5 class="old-price">{{selectedCourse?.price?.oldPrice}}.00</h5>
                                </div>
                                <div class="course__video-discount">
                                    <span>{{getPercentage().toFixed(.2)}}% OFF</span>
                                </div>
                            </div>
                            <div [style.direction]="translate.currentLang === 'ar' ? 'rtl': 'ltr'"
                                 class="course__payment mb-35">
                                <h3>{{'Payment' | translate}}</h3>
                                <a href="#">
                                    <img src="assets/img/course/payment/payment-1.webp" alt=""/>
                                </a>
                            </div>
                            <div class="course__enroll-btn">
                                <a (click)="pay()" class="e-btn e-btn-7 w-100"
                                >{{'Enroll' | translate}} <i class="far fa-arrow-right"></i
                                ></a>
                            </div>
                        </div>
                    </div>


                </div>
            </div>
            <div class="col-xxl-8 col-xl-8 col-lg-8">
                <div class="course__wrapper">
                    <div class="page__title-content mb-30">
                        <div class="page__title-breadcrumb">
                            <nav aria-label="breadcrumb">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a [routerLink]="['/']">{{'home' | translate}}</a></li>
                                    <li class="breadcrumb-item">
                                        <a [routerLink]="['/courses']">{{'courses' | translate}}</a>
                                    </li>
                                    <li class="breadcrumb-item active" aria-current="page">
                                        {{selectedCourse?.libelle}}
                                    </li>
                                </ol>
                            </nav>
                        </div>
                        <span *ngIf="!selectedCourse.forGroupe"
                              class="page__title-pre">{{'Individual' | translate}}</span>
                        <span *ngIf="selectedCourse.forGroupe" class="page__title-pre">{{'Group' | translate}}</span>
                        <h5 class="page__title-3">{{selectedCourse?.libelle}}</h5>
                    </div>
                    <div class="course__tab-content mb-95">
                        <div class="tab-content" id="courseTabContent">
                            <div
                                    class="tab-pane fade show active"
                                    id="description"
                                    role="tabpanel"
                                    aria-labelledby="description-tab"
                            >
                                <div class="course__description">
                                    <h3>{{'Course Overview' | translate}}</h3>
                                    <p>
                                        {{selectedCourse?.description}}
                                    </p>
                                    <h3>{{'Why take this course ?' | translate}}</h3>
                                    <p>{{selectedCourse?.whyTakeThisCourse}}</p>
                                    <h3>{{'Experience Level' | translate}}</h3>
                                    <p>{{selectedCourse?.level?.libelle}}</p>
                                    <h3>{{'Course Length' | translate}}</h3>
                                    <p>{{selectedCourse?.nombreCours}}</p>
                                    <h3>{{'Pre - requisites' | translate}}</h3>
                                    <p>{{selectedCourse?.preRequisites}}</p>

                                    <div class="course__description-list mb-45">
                                        <h4>{{'Syllabus' | translate}}</h4>
                                        <ul>
                                            <li *ngFor="let course of courses.slice(0, nombreCours)">
                                                <i class="icon_check"></i> {{course?.libelle}}</li>


                                            <li *ngIf="nombreCours !== selectedCourse?.nombreCours" class="more-details"
                                                (click)="nombreCours = selectedCourse.nombreCours">
                                                {{'...see more' | translate}}
                                            </li>

                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="course__related">
                        <div class="row">
                            <div class="col-xxl-12">
                                <div class="section__title-wrapper mb-40">
                                    <h2 [style.direction]="translate.currentLang === 'ar' ? 'rtl': 'ltr'"
                                        class="section__title">
                                        <span class="yellow-bg yellow-bg-big">
                                            {{'Related' | translate}}
                                            <img src="assets/img/shape/yellow-bg.webp" alt=""/>
                                        </span>
                                    </h2>
                                    <p>
                                        {{'base2' | translate}}
                                    </p>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-xxl-12">
                                <div class="course__slider swiper-container pb-60">
                                    <div class="swiper-wrapper">
                                        <swiper
                                                class="pb-60"
                                                [slidesPerView]="1"
                                                [spaceBetween]="30"
                                                [loop]="true"
                                                [autoplay]="{
                        delay: 2500,
                        disableOnInteraction: false
                      }"
                                                [pagination]="{
                        clickable: true,
                        el: '.swiper-pagination'
                      }"
                                                [breakpoints]="{
                        '280': {
                          slidesPerView: 1,
                          spaceBetween: 30
                        },
                        '768': {
                          slidesPerView: 2,
                          spaceBetween: 30
                        },
                        '1200': {
                          slidesPerView: 2,
                          spaceBetween: 30
                        }
                      }"
                                        >
                                            <ng-template *ngFor="let course of packs" swiperSlide>
                                                <div class="course__item course__item-3 swiper-slide white-bg mb-30 fix">
                                                    <div class="course__thumb w-img p-relative fix">
                                                        <a (click)="selectedCourse = course">
                                                            <img src="{{course.imgUrl}}" alt="">
                                                        </a>
                                                        <div class="course__tag">
                                                            <a *ngIf="!course.forGroupe" [style.background]="'#7b2cbf'">Individual</a>
                                                            <a *ngIf="course.forGroupe" [style.background]="'#800f2f'">Group</a>
                                                        </div>
                                                    </div>
                                                    <div class="course__content">
                                                        <div
                                                                class="course__meta d-flex align-items-center justify-content-between"
                                                        >
                                                            <div class="course__lesson">
                                                                <span><i
                                                                        class="far fa-book-alt"></i>{{course.nombreCours}}
                                                                    Lesson</span>
                                                            </div>
                                                            <div class="course__rating">
                                                                <span><i class="icon_star"></i>{{course.rating}}
                                                                </span>
                                                            </div>
                                                        </div>
                                                        <h3 class="course__title">
                                                            <a [routerLink]="['/course-details']">{{course.libelle}}</a>
                                                        </h3>
                                                    </div>
                                                    <div
                                                            class="course__more d-flex justify-content-between align-items-center"
                                                    >
                                                        <div class="course__status d-flex align-items-center">
                                                            <span>{{course.price?.price}} MAD</span>
                                                            <span class="old-price">{{course?.price?.oldPrice}}
                                                                MAD</span>
                                                        </div>
                                                        <div class="course__btn">
                                                            <a (click)="selectedCourse = course" class="link-btn">
                                                                Know Details
                                                                <i class="far fa-arrow-right"></i>
                                                                <i class="far fa-arrow-right"></i>
                                                            </a>
                                                        </div>
                                                    </div>
                                                </div>
                                            </ng-template>
                                        </swiper>
                                        <!-- Add Pagination -->
                                        <div class="swiper-pagination"></div>
                                    </div>

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-xxl-4 col-xl-4 col-lg-4">
                <div class="course__sidebar pl-70 p-relative">
                    <div class="course__shape">
                        <img
                                class="course-dot"
                                src="assets/img/course/course-dot.png"
                                alt=""
                        />
                    </div>
                    <div class="course__sidebar-widget-2 white-bg mb-20">
                        <div class="course__video">
                            <div class=" w-img mb-25">
                                <img *ngIf="selectedCourse?.price?.lib?.toUpperCase()?.includes('PLATINUM')"
                                     src="/assets/images/Platinum.webp" alt=""/>
                                <img *ngIf="selectedCourse?.price?.lib?.toUpperCase()?.includes('GOLD')"
                                     src="/assets/images/Gold.webp" alt=""/>
                                <img *ngIf="selectedCourse?.price?.lib?.toUpperCase()?.includes('SILVER')"
                                     src="/assets/images/Silver.webp" alt=""/>

                            </div>
                            <div class="course__video-meta mb-25 d-flex align-items-center justify-content-between">
                                <div class="course__video-price">
                                    <h5>{{selectedCourse?.price?.price}}.<span>00 MAD</span></h5>
                                    <h5 class="old-price">{{selectedCourse?.price?.oldPrice}}.00</h5>
                                </div>
                                <div class="course__video-discount">
                                    <span>{{getPercentage().toFixed(.2)}}% OFF</span>
                                </div>
                            </div>
                            <div [style.direction]="translate.currentLang === 'ar' ? 'rtl': 'ltr'"
                                 class="course__payment mb-35">
                                <h3>{{'Payment' | translate}}</h3>
                                <a href="#">
                                    <img src="assets/img/course/payment/payment-1.webp" alt=""/>
                                </a>
                            </div>
                            <div class="course__enroll-btn">
                                <a (click)="pay()" class="e-btn e-btn-7 w-100"
                                >{{'Enroll' | translate}} <i class="far fa-arrow-right"></i
                                ></a>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

</section>
