<p-card>
    <p-header>
        <h3>Search</h3>
        <div class="p-grid">
            <div class="p-col-2">
                <input pInputText type="text" placeholder="Search by Reference"
                       [(ngModel)]="sessioncourssearch.reference">

            </div>
            <div class="p-col-2"><input pInputText type="text" placeholder="Search by Prof Name"
                                        [(ngModel)]="sessioncourssearch.prof.nom">

            </div>
            <div class="p-col-2"><input pInputText type="text" placeholder="Search by Student Name"
                                        [(ngModel)]="sessioncourssearch.etudiant.nom">

            </div>
            <div class="p-col-2"><input pInputText type="text" placeholder="Search by Course Name"
                                        [(ngModel)]="sessioncourssearch.cours.libelle">

            </div>
            <div class="p-col-2">

                <input pInputText type="text" placeholder="yyyy-mm-dd"
                       style="width: 80%" [(ngModel)]="sessioncourssearch.dateFin">
            </div>
            <div class="p-col-2">
                <button pButton pRipple type="button" label="Search" class="p-button-rounded p-button-success"
                        style="margin-left:4px;background-color: #F48C76;border-color: #F48C76;"
                        (click)="findAllByCriteria()"></button>
            </div>

        </div>

    </p-header>
</p-card>
<p-table #dt [value]="sessioncourslist" dataKey="id" styleClass="p-datatable-customers" [rowHover]="true"
         [rows]="10" [showCurrentPageReport]="true" [rowsPerPageOptions]="[10,25,50]"
         [paginator]="true" currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
         [filterDelay]="0"
         [globalFilterFields]="['reference','prof.nom','etudiant.nom','cours.libelle','dateFin','totalheure','payer']">>
    <ng-template pTemplate="caption">
        <div class="table-header">
            <div class="row">
                <div class="col-md-2">List of Session Course</div>
                <div class="col-md-2"></div>


            </div>


        </div>
    </ng-template>
    <ng-template pTemplate="header">
        <tr>

            <th>Reference</th>
            <th>Prof Name</th>
            <th>Student Name</th>
            <th>Course</th>
            <th>Date</th>
            <th>Total Sessions</th>
            <th>Etat de Payement</th>
            <th>Payee</th>
            <th>Refresh</th>

        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-c>
        <tr class="p-selectable-row">

            <td>
                {{c.reference}}
            </td>
            <td>
                {{c.prof.nom}}
            </td>
            <td>
                {{c.etudiant.nom}}
            </td>
            <td>
                {{c.cours.libelle}}
            </td>
            <td>
                {{c.dateFin}}
            </td>
            <td>
                {{c.totalheure}}
            </td>
            <td>
                {{c.payer}}
            </td>
            <td>
                <button pButton pRipple type="button" label="Payer" class="p-button-success" id="payee"
                        (click)="savepaiement(c.id)"
                        [disabled]="c.payer==true || c.totalheure==0"
                ></button>

            </td>

            <td>

                <button class="p-button-rounded p-button-info p-mr-2" icon="pi pi-refresh" pButton id="refresh"
                        [disabled]="c.payer==false" (click)="updatesessioncours(c.id)"
                        pRipple></button>
            </td>
        </tr>
    </ng-template>
    <ng-template pTemplate="emptymessage">
        <tr>
            <td colspan="9">No customers found.</td>
        </tr>
    </ng-template>
</p-table>
